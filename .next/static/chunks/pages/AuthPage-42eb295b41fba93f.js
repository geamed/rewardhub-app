(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15],{1018:(e,s,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/AuthPage",function(){return r(5002)}])},4131:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});var a=r(7876);r(4232);let t=e=>{let{className:s}=e;return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:s||"w-6 h-6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 11.25v8.25a1.5 1.5 0 0 1-1.5 1.5H7.5a1.5 1.5 0 0 1-1.5-1.5v-8.25M12 4.875A3.375 3.375 0 0 0 12 12m0 0a3.375 3.375 0 0 0 0 7.125M12 12a3.375 3.375 0 0 1 0-7.125M12 12v7.125m0-7.125a3.375 3.375 0 0 0 0-7.125M6.375 5.625a3.375 3.375 0 0 1 0 6.75M6.375 12a3.375 3.375 0 0 1 0-6.75M17.625 5.625a3.375 3.375 0 0 1 0 6.75M17.625 12a3.375 3.375 0 0 1 0-6.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})}},5002:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c});var a=r(7876),t=r(4232),l=r(4918),o=r(7723),i=r(4131),n=r(5259);let d=e=>e?e.message&&e.message.toLowerCase().includes("invalid login credentials")?"Invalid email or password.":e.message&&e.message.includes("User already registered")?"This email address is already in use by another account.":e.message&&e.message.includes("Password should be at least 6 characters")?"Password is too weak. It should be at least 6 characters long.":e.message&&e.message.includes("Unable to validate email address: invalid format")?"Invalid email address format. Please check and try again.":e.message&&e.message.toLowerCase().includes("for expiry duration check if your email provider cancelled block")?"Email rate limit exceeded. Please try again later.":e.message&&e.message.toLowerCase().includes("error sending confirmation mail")?"There was an issue sending the confirmation email. Please try signing up again later.":(console.warn("Unhandled Supabase Auth Error:",e.name,e.message),e.message||"An unexpected authentication error occurred. Please try again later."):"An unexpected error occurred.",c=e=>{let{onAuthSuccess:s,onSuccessfulSignup:r,addNotification:c,initialMode:m="login"}=e,[u,x]=(0,t.useState)("login"===m),[h,p]=(0,t.useState)(""),[w,g]=(0,t.useState)(""),[f,b]=(0,t.useState)(""),[y,v]=(0,t.useState)(null),[j,N]=(0,t.useState)(null),[C,k]=(0,t.useState)(null),{login:S,signup:P,isLoading:_}=(0,l.A)(),[E,A]=(0,t.useState)(!1);t.useEffect(()=>{x("login"===m)},[m]);let R=async e=>{if(e.preventDefault(),A(!0),v(null),N(null),k(null),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(h)){v("Please enter a valid email address."),A(!1);return}if(0===w.length){N("Password cannot be empty."),A(!1);return}if(!u){if(w.length<6){N("Password must be at least 6 characters long."),A(!1);return}if(w!==f){k("Passwords do not match."),A(!1);return}}try{if(u){let e=await S(h,w);e.error?c(d(e.error),n._.ERROR):(c("Login successful! Welcome back.",n._.SUCCESS),s())}else{let e=await P(h,w);e.error?c(d(e.error),n._.ERROR):(c("Signup successful! Please check your email to verify your account.",n._.SUCCESS),r(h))}}catch(e){console.error("AuthPage: Unexpected error during auth operation",e),c("An unexpected error occurred. Please try again.",n._.ERROR)}finally{A(!1)}},L=_||E;return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-100 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-8 text-primary-dark",children:[(0,a.jsx)(i.A,{className:"h-12 w-12 mr-3"}),(0,a.jsx)("h1",{className:"text-4xl font-bold",children:o.C3})]}),(0,a.jsxs)("div",{className:"w-full max-w-md bg-white p-8 rounded-xl shadow-2xl",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-center text-slate-700 mb-6",children:u?"Welcome Back!":"Create Your Account"}),(0,a.jsxs)("form",{onSubmit:R,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-600",children:"Email Address"}),(0,a.jsx)("input",{type:"email",id:"email",value:h,onChange:e=>{p(e.target.value),v(null)},required:!0,className:"mt-1 w-full px-3 py-2 border ".concat(y?"border-red-500":"border-slate-300"," rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm"),placeholder:"you@example.com","aria-describedby":y?"email-error":void 0,autoComplete:"email"}),y&&(0,a.jsx)("p",{id:"email-error",className:"mt-1 text-xs text-red-500",children:y})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-600",children:"Password"}),(0,a.jsx)("input",{type:"password",id:"password",value:w,onChange:e=>{g(e.target.value),N(null)},required:!0,minLength:u?void 0:6,className:"mt-1 w-full px-3 py-2 border ".concat(j?"border-red-500":"border-slate-300"," rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm"),placeholder:"••••••••","aria-describedby":j?"password-error":void 0,autoComplete:u?"current-password":"new-password"}),j&&(0,a.jsx)("p",{id:"password-error",className:"mt-1 text-xs text-red-500",children:j})]}),!u&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-slate-600",children:"Confirm Password"}),(0,a.jsx)("input",{type:"password",id:"confirmPassword",value:f,onChange:e=>{b(e.target.value),k(null)},required:!0,className:"mt-1 w-full px-3 py-2 border ".concat(C?"border-red-500":"border-slate-300"," rounded-md shadow-sm focus:ring-primary focus:border-primary sm:text-sm"),placeholder:"••••••••","aria-describedby":C?"confirm-password-error":void 0,autoComplete:"new-password"}),C&&(0,a.jsx)("p",{id:"confirm-password-error",className:"mt-1 text-xs text-red-500",children:C})]}),(0,a.jsx)("button",{type:"submit",disabled:L,className:"w-full bg-primary hover:bg-primary-dark text-white font-semibold py-2.5 px-4 rounded-lg shadow-md transition-colors duration-300 flex items-center justify-center disabled:opacity-50 mt-2",children:L?(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):u?"Login":"Sign Up"})]}),(0,a.jsxs)("p",{className:"mt-6 text-center text-sm text-slate-500",children:[u?"Don't have an account?":"Already have an account?",(0,a.jsx)("button",{onClick:()=>{L||(x(!u),v(null),N(null),k(null),p(""),g(""),b(""))},className:"font-medium text-primary hover:text-primary-dark ml-1 focus:outline-none disabled:opacity-70",disabled:L,children:u?"Sign Up":"Login"})]})]})]})}},5259:(e,s,r)=>{"use strict";r.d(s,{_:()=>a});var a=function(e){return e.SUCCESS="success",e.ERROR="error",e.INFO="info",e}({})}},e=>{e.O(0,[636,593,792],()=>e(e.s=1018)),_N_E=e.O()}]);